<!DOCTYPE html>
<html>
<head>
    <title>Top Three Highest Scores</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <a href="index.html" class="button">Back to game</a>
    <h1>Top Three Highest Scores</h1>
    <div id="highest-scores"></div>

    <script>
        // JavaScript code for fetching and displaying the top three highest scores
        fetch("https://ets-pemrograman-web-f.cyclic.app/scores/score")
            .then((response) => {
                if (!response.ok) {
                    throw new Error("Network response was not ok");
                }
                return response.json(); // Parse the response as JSON
            })
            .then((data) => {
                // Extract the "data" array from the response
                const scores = data.data;

                // Sort the scores in descending order
                scores.sort((a, b) => parseInt(b.score) - parseInt(a.score));

                // Get the top three highest scores and their names
                const topThreeScores = scores.slice(0, 3);

                // Display the top three highest scores
                const highestScoresDiv = document.getElementById("highest-scores");
                highestScoresDiv.innerHTML = "<h2>Top Three Highest Scores:</h2>";
                for (const [index, entry] of topThreeScores.entries()) {
                    const score = entry.score;
                    const name = entry.nama;
                    highestScoresDiv.innerHTML += `<p>${index + 1}. Name: ${name}, Score: ${score}</p>`;
                }
            })
            .catch((error) => {
                console.error("Error during the fetch operation:", error);
            });
    </script>
</body>
</html>
